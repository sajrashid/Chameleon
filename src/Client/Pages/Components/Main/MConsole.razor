
 <div @ondrag:preventDefault="true"  @ondragleave:preventDefault="true" @ondragenter:preventDefault="true" class="bg-base-200 text-base-content bg-neutral text-neutral-content h-full">
          <div class="shadow-md bg-base-300 align-bottom  h-18 cursor-pointer" >
                
                  <span @onclick="TogglePopup"   class="align-middle inline-block p-2 pl-4">
                             <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                  </span>
                      <span class="align-middle inline-block text-lg">Console</span>

                       <div class="@((  ExpandedPopupCss ? "expandPopup" :"") + " shrunkPopup bg-gray-500 text-black w-64 absolute ")">
                          <span class="align-bottom">F Colour:</span> 
                             <div class="options  pl-24 pr-3 -mt-7">
                                 <EditForm Model="ConsoleSelect">
                                    <InputSelect @bind-Value="ConsoleSelect.SelectedFColor"  @oninput="SelectFColorClick"  class="text-md select bg-gray-200">
                                   @foreach (var item in ConsoleSelect.FColorList)
                                        {
                                            <option value=@item.Value>@item.Name</option>
                                        }
                                    </InputSelect>
                                  </EditForm>
                             </div>
                             <div class="pt-1">
                                <span class="absolute">B Colour:</span>
                             <div class="options  pl-24 pr-3">
                                 <EditForm Model="ConsoleSelect">
                                    <InputSelect @bind-Value="ConsoleSelect.SelectedBColor"  @oninput="SelectBColorClick" class="text-md select bg-gray-200" >
                                   @foreach (var item in ConsoleSelect.BColorList)
                                        {
                                            <option value=@item.Value>@item.Name</option>
                                        }
                                    </InputSelect>
                                  </EditForm>
                             </div>
                             </div>
                       </div>

                        <span @onclick="ExpandClick" class="@(( RotateCss ? "transform rotate-180" :"") + " transition ease-out duration-200 align-middle inline-block p-2 pr-3 float-right")" >
                          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </span>
                 </div>
                  <div  class="@(( ExpandedCss ? "expandPanel" : "") + " shrunkPanel pl-3 pr-3 pb-1")">
                                                      
                         <div ondrag="event.preventDefault()" class=" bg-gray-100 min-h-full">

                                <div ondrag="event.preventDefault()" class="bg-base-200 font-mono cursor-text   min-h-18  pb-1">
  

                                   <div  class="p-1 mt-2 mb-1 overflow-y-scroll mconsole @BkGrndcss @FColorcss ">
                                       <textarea  @ref=TextAreaRef @ondrag:preventDefault="true" @bind="GcodeTextArea" readonly class="p-2 h-full w-full resize-none @BkGrndcss @FColorcss"/>
                                    </div>

                                        <div class="bg-base-200 shadow-md ">
                                            <input    @bind-value="@GcodeInput" type="text"
                                             @onkeyup="KeyboardEventHandler "
                                            placeholder="G-Code" class="tracking-widest input input-bordered text-lg w-full mt-2"> 
                                            <span @onclick="OnGcodeSendClick" class="float-right relative -top-8 pr-2 transform rotate-90 mr-2"> 
                                                 <svg xmlns="http://www.w3.org/2000/svg" class=" h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                                                  </svg> 
                                                </span>
                                        </div>
                                </div>
                          </div >
            </div>
</div>
